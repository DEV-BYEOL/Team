<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<!-- mapper namespace는 여러개의 xml파일에서 같은 id값을썻을때 서로 충돌이 일어나지않도록 해준다
 또한 resultType은  sql실행문을 VO객체에 담아준다는뜻이다.-->
<mapper namespace="com.project.mapper.QuestionMapper">
  <select id="getList" resultType="com.project.domain.QuestionVO">
    <![CDATA[
    select * from question_board where bno>0
    ]]>
  </select>
  
  <insert id="insert">
  insert into question_board(bno,title,message,name,email)
  values (seq_questionboard.nextval,#{title},#{message},#{name},#{email})
 
  </insert>
  
  <insert id="insertSelectKey">
  <selectKey keyProperty="bno" order="BEFORE" resultType="long">
  select seq_questionboard.nextval from dual
  </selectKey>
  insert into question_board (bno,title,message,name,email)
  values (#{bno},#{title},#{message},#{name},#{email})
 
  
  </insert>
  
  <select id="read" resultType="com.project.domain.QuestionVO">
  
  select * from Question_board where bno=#{bno}
  </select>
  
    <delete id="delete">
  
  delete from Question_board where bno=#{bno}
  </delete>
  
  <update id="update">
  
  update question_board
  set title=#{title},
  message=#{message},
  name=#{name},
  email=#{email}
  where bno=#{bno}

  
  </update>
  
  </mapper>